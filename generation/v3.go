package main

import (
	"errors"
	"fmt"
)

// Defines a list of symbols for use.
var symbols = []string{
	"!",
	"#",
	"$",
	"%",
	"'",
	"(",
	")",
	"*",
	"+",
	"-",
	".",
	"/",
	"0",
	"1",
	"2",
	"3",
	"4",
	"5",
	"6",
	"7",
	"8",
	"9",
	":",
	";",
	"=",
	"?",
	"@",
	"A",
	"B",
	"C",
	"D",
	"E",
	"F",
	"G",
	"H",
	"I",
	"J",
	"K",
	"L",
	"M",
	"N",
	"O",
	"P",
	"Q",
	"R",
	"S",
	"T",
	"U",
	"V",
	"W",
	"X",
	"Y",
	"Z",
	"[",
	"]",
	"^",
	"_",
	"`",
	"a",
	"b",
	"c",
	"d",
	"e",
	"f",
	"g",
	"h",
	"i",
	"j",
	"k",
	"l",
	"m",
	"n",
	"o",
	"p",
	"q",
	"r",
	"s",
	"t",
	"u",
	"v",
	"w",
	"x",
	"y",
	"z",
	"{",
	"|",
	"}",
	"~",
	"¡",
	"¢",
	"£",
	"¤",
	"¥",
	"¦",
	"§",
	"¨",
	"©",
	"ª",
	"«",
	"¬",
	"®",
	"¯",
	"°",
	"±",
	"²",
	"³",
	"´",
	"µ",
	"¶",
	"·",
	"¸",
	"¹",
	"º",
	"»",
	"¿",
	"×",
	"÷",
	"À",
	"Á",
	"Â",
	"Ã",
	"Ä",
	"Å",
	"Æ",
	"Ç",
	"È",
	"É",
	"Ê",
	"Ë",
	"Ì",
	"Í",
	"Î",
	"Ï",
	"Ð",
	"Ñ",
	"Ò",
	"Ó",
	"Ô",
	"Õ",
	"Ö",
	"Ø",
	"Ù",
	"Ú",
	"Û",
	"Ü",
	"Ý",
	"Þ",
	"ß",
	"à",
	"á",
	"â",
	"ã",
	"ä",
	"å",
	"æ",
	"ç",
	"è",
	"é",
	"ê",
	"ë",
	"ì",
	"í",
	"î",
	"ï",
	"ð",
	"ñ",
	"ò",
	"ó",
	"ô",
	"õ",
	"ö",
	"ø",
	"ù",
	"ú",
	"û",
	"ü",
	"ý",
	"þ",
	"ÿ",
	"Œ",
	"œ",
	"Š",
	"š",
	"Ÿ",
	"ƒ",
	"Α",
	"Β",
	"Γ",
	"Δ",
	"Ε",
	"Ζ",
	"Η",
	"Θ",
	"Ι",
	"Κ",
	"Λ",
	"Μ",
	"Ν",
	"Ξ",
	"Ο",
	"Π",
	"Ρ",
	"Σ",
	"Τ",
	"Υ",
	"Φ",
	"Χ",
	"Ψ",
	"Ω",
	"α",
	"β",
	"γ",
	"δ",
	"ε",
	"ζ",
	"η",
	"θ",
	"ι",
	"κ",
	"λ",
	"μ",
	"ν",
	"ξ",
	"ο",
	"π",
	"ρ",
	"ς",
	"σ",
	"τ",
	"υ",
	"φ",
	"χ",
	"ψ",
	"ω",
	"ϑ",
	"ϒ",
	"ϖ",
	"–",
	"—",
	"‘",
	"’",
	"‚",
	"“",
	"”",
	"„",
	"†",
	"‡",
	"•",
	"…",
	"‰",
	"‱",
	"※",
	"‼",
	"‽",
	"‾",
	"⁁",
	"⁂",
	"⁇",
	"⁈",
	"⁉",
	"⁑",
	"€",
	"™",
	"∀",
	"❝",
	"❞",
	"∂",
	"∃",
	"∅",
	"∇",
	"∈",
	"∉",
	"∋",
	"∏",
	"∑",
	"−",
	"∓",
	"∔",
	"∕",
	"∖",
	"∗",
	"√",
	"∛",
	"∜",
	"∝",
	"∞",
	"∠",
	"∧",
	"∩",
	"∪",
	"∫",
	"∬",
	"∭",
	"∮",
	"∯",
	"∰",
	"∴",
	"∵",
	"∶",
	"∷",
	"∻",
	"∼",
	"∽",
	"≀",
	"≅",
	"≈",
	"≠",
	"≡",
	"≤",
	"≥",
	"⊂",
	"⊃",
	"⊄",
	"⊆",
	"⊇",
	"⊕",
	"⊖",
	"⊗",
	"⊘",
	"⊙",
	"⊚",
	"⊛",
	"⊜",
	"⊝",
	"⊥",
	"⊦",
	"⋅",
	"⌈",
	"⌉",
	"⌊",
	"⌋",
	"▪",
	"◉",
	"◊",
	"○",
	"◎",
	"☆",
	"¼",
	"½",
	"¾",
	"⅕",
	"⅖",
	"⅗",
	"⅘",
	"⅙",
	"⅚",
	"⅛",
	"⅜",
	"⅝",
	"⅞",
	"←",
	"↑",
	"→",
	"↓",
	"↔",
	"↕",
	"↖",
	"↗",
	"↘",
	"↙",
	"↚",
	"↛",
	"↜",
	"↝",
	"↞",
	"↟",
	"↠",
	"↡",
	"↢",
	"↣",
	"↤",
	"↥",
	"↦",
	"↨",
	"↩",
	"↪",
	"↫",
	"↬",
	"↭",
	"↮",
	"↯",
	"↰",
	"↱",
	"↲",
	"↳",
	"↴",
	"↵",
	"↶",
	"↷",
	"↸",
	"↹",
	"↺",
	"↻",
	"↼",
	"↽",
	"↾",
	"↿",
	"⇀",
	"⇁",
	"⇂",
	"⇃",
	"⇄",
	"⇅",
	"⇆",
	"⇇",
	"⇈",
	"⇉",
	"⇊",
	"⇋",
	"⇌",
	"⇍",
	"⇎",
	"⇏",
	"⇐",
	"⇑",
	"⇒",
	"⇓",
	"⇔",
	"⇕",
	"⇖",
	"⇗",
	"⇘",
	"⇙",
	"⇚",
	"⇛",
	"⇜",
	"⇝",
	"⇞",
	"⇟",
	"⇠",
	"⇡",
	"⇢",
	"⇣",
	"⇤",
	"⇥",
	"⇦",
	"⇧",
	"⇨",
	"⇩",
	"➘",
	"➙",
	"➚",
	"➛",
	"➜",
	"➝",
	"➞",
	"➟",
	"➠",
	"➡",
	"➢",
	"➣",
	"➤",
	"➥",
	"➧",
	"➨",
	"➩",
	"➪",
	"➫",
	"➬",
	"➭",
	"➮",
	"➯",
	"➱",
	"➲",
	"➳",
	"➴",
	"➵",
	"➶",
	"➷",
	"➸",
	"➹",
	"➺",
	"➻",
	"➼",
	"➽",
	"➾",
	"⋆",
	"★",
	"⚝",
	"⛤",
	"⛥",
	"⛦",
	"⛧",
	"✢",
	"✣",
	"✤",
	"✥",
	"✦",
	"✧",
	"✨",
	"✩",
	"✪",
	"✫",
	"✬",
	"✭",
	"✮",
	"✯",
	"✰",
	"✱",
	"✲",
	"✳",
	"✴",
	"✵",
	"✶",
	"✷",
	"✹",
	"✺",
	"✻",
	"✼",
	"✽",
	"✾",
	"❂",
	"❃",
	"❅",
	"❆",
	"❇",
	"❈",
	"❉",
	"❊",
	"❋",
	"❣",
	"❤",
	"❥",
	"❦",
	"💓",
	"💔",
	"💕",
	"💖",
	"💗",
	"💘",
	"💙",
	"💚",
	"💛",
	"💜",
	"💝",
	"💞",
	"♈",
	"♉",
	"♊",
	"♋",
	"♌",
	"♍",
	"♎",
	"♏",
	"♐",
	"♑",
	"♒",
	"♓",
	"♔",
	"♕",
	"♖",
	"♗",
	"♘",
	"♙",
	"♚",
	"♛",
	"♜",
	"♝",
	"♞",
	"♟",
	"♠",
	"♡",
	"♢",
	"♣",
	"♤",
	"♥",
	"♦",
	"♧",
	"⚀",
	"⚁",
	"⚂",
	"⚃",
	"⚄",
	"⚅",
	"⚽",
	"⚾",
	"⛷",
	"⛸",
	"⛹",
	"①",
	"②",
	"③",
	"④",
	"⑤",
	"⑥",
	"⑦",
	"⑧",
	"⑨",
	"⑩",
	"⑪",
	"⑫",
	"⑬",
	"⑭",
	"⑮",
	"⑯",
	"⑰",
	"⑱",
	"⑲",
	"⑳",
	"⑴",
	"⑵",
	"⑶",
	"⑷",
	"⑸",
	"⑹",
	"⑺",
	"⑻",
	"⑼",
	"⑽",
	"⑾",
	"⑿",
	"⒀",
	"⒁",
	"⒂",
	"⒃",
	"⒄",
	"⒅",
	"⒆",
	"⒇",
	"⒈",
	"⒉",
	"⒊",
	"⒋",
	"⒌",
	"⒍",
	"⒎",
	"⒏",
	"⒐",
	"⒑",
	"⒒",
	"⒓",
	"⒔",
	"⒕",
	"⒖",
	"⒗",
	"⒘",
	"⒙",
	"⒚",
	"⒛",
	"⓪",
	"⓫",
	"⓬",
	"⓭",
	"⓮",
	"⓯",
	"⓰",
	"⓱",
	"⓲",
	"⓳",
	"⓴",
	"❶",
	"❷",
	"❸",
	"❹",
	"❺",
	"❻",
	"❼",
	"❽",
	"❾",
	"❿",
	"֍",
	"֎",
	"ॐ",
	"☤",
	"☥",
	"☦",
	"☧",
	"☨",
	"☩",
	"☪",
	"☫",
	"☬",
	"☭",
	"☮",
	"☯",
	"☸",
	"✝",
	"✞",
	"✟",
	"✠",
	"✡",
	"♩",
	"♪",
	"♫",
	"♬",
	"♭",
	"♮",
	"♯",
	"🎹",
	"🎼",
	"࠽",
	"℃",
	"⌘",
	"⌚",
	"⌛",
	"⌧",
	"⌨",
	"⌬",
	"⍓",
	"■",
	"□",
	"▯",
	"◆",
	"●",
	"☀",
	"☁",
	"☂",
	"☃",
	"☄",
	"☎",
	"☏",
	"☑",
	"☒",
	"☘",
	"☠",
	"☢",
	"☣",
	"☹",
	"☺",
	"☼",
	"☽",
	"☾",
	"☿",
	"♀",
	"♁",
	"♂",
	"♨",
	"♲",
	"♻",
	"♼",
	"♽",
	"♿",
	"⚒",
	"⚓",
	"⚔",
	"⚕",
	"⚖",
	"⚘",
	"⚙",
	"⚚",
	"⚛",
	"⚜",
	"⚞",
	"⚟",
	"⚠",
	"⚡",
	"⚢",
	"⚣",
	"⚤",
	"⚥",
	"⚦",
	"⚧",
	"⚨",
	"⚩",
	"⚰",
	"⚱",
	"⚲",
	"⚳",
	"⚴",
	"⚵",
	"⛄",
	"⛟",
	"⛱",
	"⛲",
	"⛳",
	"⛴",
	"⛵",
	"✀",
	"✁",
	"✂",
	"✃",
	"✄",
	"✆",
	"✈",
	"✉",
	"✊",
	"✋",
	"✌",
	"✍",
	"✎",
	"✏",
	"✐",
	"✓",
	"✔",
	"✕",
	"✖",
	"✗",
	"✘",
	"✿",
	"❀",
	"❁",
	"❄",
	"❍",
	"❏",
	"❐",
	"❑",
	"❒",
	"❖",
	"⧫",
	"⬧",
	"🔒",
	"₠",
	"₡",
	"₤",
	"㍱",
	"㍲",
	"㍳",
	"㍴",
	"㍵",
	"㍶",
	"㎀",
	"㎁",
	"㎂",
	"㎃",
	"㎄",
	"㎅",
	"㎆",
	"㎇",
	"㎈",
	"㎉",
	"㎊",
	"㎋",
	"㎌",
	"㎍",
	"㎎",
	"㎏",
	"㎐",
	"㎑",
	"㎒",
	"㎓",
	"㎔",
	"㎕",
	"㎖",
	"㎗",
	"㎘",
	"㎙",
	"㎚",
	"㎛",
	"㎜",
	"㎝",
	"㎞",
	"㎟",
	"㎠",
	"㎡",
	"㎢",
	"㎣",
	"㎤",
	"㎥",
	"㎦",
	"㎧",
	"㎨",
	"㎩",
	"㎪",
	"㎫",
	"㎬",
	"㎭",
	"㎮",
	"㎯",
	"㎰",
	"㎱",
	"㎲",
	"㎳",
	"㎴",
	"㎵",
	"㎶",
	"㎷",
	"㎸",
	"㎹",
	"㎺",
	"㎻",
	"㎼",
	"㎽",
	"㎾",
	"㎿",
	"㏀",
	"㏁",
	"㏂",
	"㏃",
	"㏄",
	"㏅",
	"㏆",
	"㏇",
	"㏈",
	"㏉",
	"㏊",
	"㏋",
	"㏌",
	"㏍",
	"㏎",
	"㏏",
	"㏐",
	"㏑",
	"㏒",
	"㏓",
	"㏔",
	"㏕",
	"㏖",
	"㏗",
	"㏘",
	"㏙",
	"㏚",
	"㏛",
	"㏜",
	"㏝",
}

// V3 convert [r,g,b,index] tuple into [rgb_r,rgb_g,rgb_b,hsl_h,hsl_s,hsl_l,lab_l,lab_a,lab_b] tuple
// Index is the identifier in each colour pallette item.
func V3(rgbR, rgbG, rgbB, index int) ([]string, error) {
	symbol, err := getCurrentSymbol(index)
	if err != nil {
		return nil, err
	}

	hslH, hslS, hslL, err := hsl(rgbR, rgbG, rgbB)
	if err != nil {
		return nil, err
	}
	labL, labA, labB, err := lab(rgbR, rgbG, rgbB)
	if err != nil {
		return nil, err
	}
	return []string{
		fmt.Sprintf("%s", symbol),
		fmt.Sprintf("%d", rgbR),
		fmt.Sprintf("%d", rgbG),
		fmt.Sprintf("%d", rgbB),
		fmt.Sprintf("%.2f", hslH),
		fmt.Sprintf("%.2f", hslS),
		fmt.Sprintf("%.2f", hslL),
		fmt.Sprintf("%.2f", labL),
		fmt.Sprintf("%.2f", labA),
		fmt.Sprintf("%.2f", labB),
	}, nil
}

// Gets symbol for this row based on the index provided
func getCurrentSymbol(index int) (string, error) {
	if len(symbols) < index {
		return "", errors.New("no symbol with index found")
	}

	return symbols[index], nil
}
